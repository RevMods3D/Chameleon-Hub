<Window x:Class="Chameleon_Hub.LoadingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Height="197" Width="350"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">

    <Border CornerRadius="20"
            Background="#FFFDFDFD"
            SnapsToDevicePixels="True">
        <Border.Effect>
            <DropShadowEffect BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
        </Border.Effect>

        <Grid>
            <!-- Background image with rounded corners -->
            <Border CornerRadius="20" ClipToBounds="True">
                <Image Source="/Resources/LoadingScreen.png"
                       Stretch="Fill"
                       Opacity="0.95"/>
            </Border>

            <!-- Overlay content at bottom -->
            <Grid VerticalAlignment="Bottom" Margin="20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Status text -->
                <TextBlock x:Name="labelStatus"
                           Grid.Row="0"
                           Text="{Binding StatusText, RelativeSource={RelativeSource AncestorType=Window}}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           Foreground="#FFFFFF"
                           Background="Transparent"
                           Padding="6,2"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"
                           TextOptions.TextFormattingMode="Display"
                           TextOptions.TextRenderingMode="ClearType"/>

                <!-- Rounded progress bar -->
                <Border Grid.Row="1" Height="8" CornerRadius="10" Background="#33000000">
                    <ProgressBar x:Name="progressBar"
                                 Minimum="0" Maximum="100"
                                 IsIndeterminate="False"
                                 BorderBrush="{x:Null}"
                                 Background="Transparent"
                                 Foreground="#3FFFFFFF"/>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
